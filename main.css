/* 
 * Cluarain`s custom codebase for rewrite Discords`s rules
 */

:root {
  --main-padding: 2rem;
  --main-gap: 1.5rem;
  --padding-guilds: 1rem;

  --hover-active-color: color-mix(in srgb, var(--main-accent-color-discord) 80%, transparent);

  --text-main: var(--text-custom-main) !important;
  --text-tertiary: var(--text-custom-main) !important;
  --channels-default: var(--text-custom-main) !important;

  --text-muted: var(--text-custom-muted) !important;

  --icon-primary: var(--icons-color-main) !important;
  --icon-tertiary: var(--icons-color-inactive) !important;

  --gap-glass-1: 1rem;
  --radius-xs: var(--borderRadius-glass-2) !important;
  --radius-md: var(--borderRadius-glass-2) !important;
  --radius-lg: var(--borderRadius-glass-1) !important;

  --background-mod-subtle: transparent;
  --background-surface-high: var(--bg-transparent-1) !important;
  --background-floating: transparent;
  --background-modifier-accent: transparent;


  --black: transparent;
  --blurple-34: var(--main-accent-color-discord);
  --blurple-35: var(--main-accent-color-discord);

  --blurple-49: var(--main-accent-color-discord);
  --blurple-50: var(--main-accent-color-discord);
  --blurple-59: var(--hover-active-color) !important;
  --blurple-65: var(--hover-active-color) !important;

  --neutral-5: rgba(255, 255, 255, .9) !important;
  --neutral-23: var(--icons-color-main) !important;
  --neutral-27: var(--icons-color-main) !important;
  /* --neutral-29: red; вроде как только неактивные иконки */
  --neutral-34: var(--text-custom-muted);
  --neutral-42: var(--bg-transparent-3);
  --neutral-44: var(--bg-transparent-3);
  --neutral-49: transparent;
  --neutral-64: transparent;
  --neutral-69: transparent;
  --neutral-72: transparent;
  --neutral-73: transparent;
  --neutral-76: transparent;
  --neutral-79: transparent;
  --neutral-80: transparent;
  --neutral-81: transparent;
  --neutral-82: transparent;
  --neutral-83: transparent;
  --neutral-86: transparent;
  --neutral-91: transparent;
  --neutral-92: transparent;
  --neutral-95: var(--bg-transparent-3);
  --neutral-97: transparent;

  /* прозрачность для карточки пользователя */
  /* --plum-15: transparent; */

  --plum-18: var(--bg-transparent-2);

  --button-filled-white-text: black !important;
}

.visual-refresh .theme-darker,
.visual-refresh.theme-darker {
  --background-modifier-hover: var(--hover-active-color);
  --background-modifier-active: var(--hover-active-color);

  --black-500: transparent;
}


.scroller__99e7c {
  margin: 0 !important;
}

.base_c48ade {
  grid-template-areas:
    "titleBar titleBar titleBar"
    "notice notice notice"
    "guildsList channelsList page" !important;
}

.content_c48ade {
  padding: calc(var(--main-padding)/2) var(--main-padding) var(--main-padding) var(--main-padding) !important;

  /* Чтобы не обрезелась тень */
  &>div {
    overflow: visible !important;
    height: 94vh !important;
  }
}

.appMount__51fd7::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: var(--bg-image);
  filter: var(--bg-filter);
}

.bar_c38106 {
  z-index: 99999;
  border-bottom: var(--border-glass-3);
  background: var(--bg-transparent-3);
  backdrop-filter: var(--blur-glass-3);
}

.layerContainer_da8173 .tooltipPointer__382e7 {
  display: none !important;
}

/* Для некоторых заголовков */
.actionRow__6981d,
.header__49fc1 {
  margin-bottom: 1rem;
}

.form_f75fb0 {
  padding: 0 !important;
  margin: 0 calc(var(--gap-glass-1)*2) 0 !important;
}

.sidebar_c48ade {
  grid-template-columns: var(--custom-guild-list-width) auto !important;
  gap: 0 calc(var(--main-gap));
  margin-right: var(--main-gap);


  &>.guilds_c48ade {
    padding-top: var(--padding-guilds) !important;
    height: fit-content;
    max-height: calc(100% - 215px - var(--padding-guilds) - var(--main-gap)) !important;
    overflow-y: auto;
    scrollbar-width: none;
  }

  &>.sidebarList_c48ade {
    height: fit-content;
    max-height: calc(100% - 215px - var(--main-gap)) !important;
    width: calc(var(--custom-guild-sidebar-width) - var(--custom-guild-list-width) - var(--main-gap));
    padding-bottom: 0 !important;

    &>.container__2637a {
      padding-bottom: 0 !important;
    }
  }

  &>.sidebarResizeHandle_c48ade {
    transform: translate(var(--main-gap), 0) !important;
  }

  &>.panels_c48ade {
    position: none !important;
    width: calc(var(--custom-guild-sidebar-width));
    left: 0 !important;
    bottom: 0 !important;
    max-height: fit-content;
    box-sizing: content-box;
  }
}

.visual-refresh {

  .guilds_c48ade,
  .page_c48ade,
  .panels_c48ade,
  .sidebarList_c48ade,
  .experimentWrapper__1405b>div {
    background: var(--bg-transparent-1);
    border: var(--border-glass-1);
    box-shadow: var(--shadow-glass-1);
    border-radius: var(--borderRadius-glass-1);
    backdrop-filter: var(--blur-glass-1);
    flex: none;
  }

  .rootWithShadow__49fc1,
  /* .submenu_c1e9c4, */
  .addFriendInputWrapper__72ba7,
  .bd-addon-card,
  .container__3a5a1,
  .buttonsInner__5126c,
  .participantsButton__211d1,
  .tile_d6271c,
  /* .embedFull__623de, */
  .channelTextArea_f75fb0,
  .drawerSizingWrapper__08434,
  .messageGroupWrapper__45690 {
    background: var(--bg-transparent-2);
    border: var(--border-glass-1);
    border-radius: var(--borderRadius-glass-1);
    backdrop-filter: var(--blur-glass-2);
  }

  .positionContainer__31a96,
  .popout__3f413,
  .bd-modal-root,
  .menu_c1e9c4,
  .layerContainer_da8173>div>div>div:not(.chat_ee72fa, .menu_c1e9c4, .rootWithShadow__49fc1, .bd-modal-root, .popout__3f413)>div {
    border-radius: var(--borderRadius-glass-2);
    background: var(--bg-transparent-2);
    border: var(--border-glass-1);

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      backdrop-filter: var(--blur-glass-2);
      border-radius: var(--borderRadius-glass-2);
      box-shadow: var(--shadow-glass-2);
    }
  }

  .tooltip__382e7 {
    backdrop-filter: var(--blur-glass-2);
  }

  .container__0f2e8,
  .itemCard__7e549,
  .searchBar__5ec2f {
    border: var(--border-glass-2);
    border-radius: var(--borderRadius-glass-1);
  }

  .jumpToPresentBar__0f481 {
    background: var(--bg-transparent-4);
    border: var(--border-glass-2);
    box-shadow: var(--shadow-glass-2);
    border-radius: var(--borderRadius-glass-1);
    backdrop-filter: var(--blur-glass-4);
  }

  .container__01ae2 {
    border-top: none;
    border-left: var(--border-glass-1);
    border-radius: 0px;
  }

  .theme-dark.custom-user-profile-theme {
    border-radius: var(--borderRadius-glass-2);

  }

  .modalContent__468a6 {
    --space-4: 20px;
  }

  .scrollableContent__927fc {
    padding-top: 10px;
  }

  .header__0856d {
    box-shadow: none;
  }

  .unicodeShortcut_b9ee0c,
  .standardStickerShortcut__3ad28,
  .inspector_aeaaeb {
    border-top: var(--border-glass-1);
  }

  .sourceScroller_a2de16,
  .footer__49fc1 {
    border-top: var(--border-glass-1);
    padding-top: 1rem;
  }

  .header__8ef02,
  .header_fed6d3,
  .searchBarContainer__927fc,
  .header__0856d,
  .top_b3f026,
  .container_f37cb1,
  .container__9293f,
  .searchBar__35e86,
  .wrapper_cb9592,
  .guildSeparator__252b6,
  .panel__5dec7 {
    border-bottom: var(--border-glass-1);
  }

  .members_c8ffbb {
    border-left: var(--border-glass-1);
    border-bottom-right-radius: var(--borderRadius-glass-1);
  }

  /* костыльный прозрачный фон за текстовым полем */
  .scroller__36d07 {
    height: calc(100% + 5rem);
    padding-bottom: 5rem;
  }

  .container__9293f,
  .callContainer_cb9592,
  .subtitleContainer_f75fb0 {
    border-top-left-radius: var(--borderRadius-glass-1);
    border-top-right-radius: var(--borderRadius-glass-1);
  }

  .outer_c0bea0,
  .banner__68edb {
    border-radius: 0px;
  }

  .contentRegion__23e6b {
    padding-inline: 1rem;
    backdrop-filter: var(--blur-glass-1);
    background: var(--bg-transparent-1);
    border-left: var(--border-glass-1);
  }

  .side_b3f026 {
    padding: 1rem;
    background: var(--bg-transparent-1);
    border: var(--border-glass-1);
    /* box-shadow: var(--shadow-glass-1); */
    border-radius: var(--borderRadius-glass-1);
    backdrop-filter: var(--blur-glass-1);
  }

  .scroller_ac6cb0,
  .gradientBackground__11664,
  .gradientBackground__11664>div,
  .streamPreview__6da2d,
  .container__2637a,
  .children__9293f:after,
  .sidebar_c48ade:after {
    background: none;
  }

  .joinButton__5aa3a {
    &>div {
      mix-blend-mode: difference;

    }

    color: var(--text-custom-main);
    border: var(--border-glass-1);
  }

  .muted__20a53,
  .input_a45028::placeholder,
  .placeholder__1b31f {
    font-weight: 500;
    color: var(--text-custom-muted);
  }

  .icon__2ea32,
  .linkButtonIcon__972a0,
  .icon__9293f {
    color: var(--icons-color-main);
  }

  .addStatusPrompt_ab8609 {
    color: var(--text-custom-muted);
  }

  .standardStickerShortcut__3ad28,
  .unicodeShortcut_b9ee0c {
    backdrop-filter: var(--blur-glass-3);
  }
}


.bar_a562c8 {
  background-color: color-mix(in srgb, var(--text-custom-muted) 50%, #00000000) !important;

  .barFill_a562c8 {
    background-color: var(--text-custom-main);
  }
}

.popover__2d0ab,
.container_ab8609 {
  background: var(--bg-transparent-2);
  border: var(--border-glass-2) !important;
  /* box-shadow: var(--shadow-glass-2); */
  border-radius: var(--borderRadius-glass-1);
  backdrop-filter: var(--blur-glass-2);
}

.chat_f75fb0 {
  border-radius: var(--borderRadius-glass-1);
}

.submenuPaddingContainer_c1e9c4,
.streamPreviewWrapper__6da2d {
  padding: 0 !important;
}

.outer_ab8609,
.callContainer_cb9592 {
  border: none !important;
}

.container__4e30a {
  margin-left: 0;
  background: none;
}

.popoutWrapper_d6b206 {
  margin-bottom: 0;
}

.streamPreview__6da2d,
.fullRegionButton_f1ceac {
  border-radius: var(--borderRadius-glass-2);
}

.spoilerMarkdownContent__54ab5.hidden__54ab5 .obscuredBlockContent__54ab5,
.spoilerMarkdownContent__54ab5.hidden__54ab5 .obscuredTextContent__54ab5 {
  pointer-events: all;
}